# Stochastic rounding emulator

## Description

В данный момент эмулятор представляет собой header-only библиотеку с реализованными обертками над числовыми типами данных, позволяющими производить вычисления в 
fixed point (https://royalsocietypublishing.org/doi/pdf/10.1098/rsta.2019.0052) и floating point (http://eprints.maths.manchester.ac.uk/2758/1/fami20.pdf), используя стохастическое округление

## Features

На данный момент классы FixedPoint и FixedPointSR обладают следующими фичами:

- compile time проверка типов в конструкторах (можно создать FixedPoint либо из любого floating point типа, с указанием, сколько битов отдаем под хранение дробной части, либо из integer типа, которым шаблонизируем класс)

- compile time проверка возможности приведения класса к типу (компиляция упадет, если будем делать static_cast к не floating point типу)

- стохастическое округление для типов с фиксированной и плавающей точкой;

- Частичная функциональность FixedPointSR и FloarSR (см. TODO)

- Для проведения экспериментов написан интегратор Рунге-Кутты 4 порядка, который в том числе может поддерживать FixedPoint и FixedPointSR

- Реализован интегратор методом Эйлера

## TODO

- Унарные минусы и плюсы в перегрузках операторов
- Проверка на переполнение в обоих типах
- работа с денормализованными числами в floating sr
- разобраться, почему fixed point лучше floating point sr (частично это можно объяснить идеологией fixed point, т.к. диапазон чисел там не динамический)
- разобраться, почему при уменьшении шага в интеграторе мы получаем большее различие в траекториях (скорее всего завязано на вычислениях с числами меньше машинного эпсилон см. https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%88%D0%B8%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BD%D0%BE%D0%BB%D1%8C)
- tests & CI (последнее лучше наверное прикрутить при переходе в gitlab)
- больше экспериментов
- ???

## Build
`mkdir build` 

`cd build` 

`cmake .. & make`

Запуск эксперимента:
`./experiment{number: 1,2,3,4}`

Немного примеров использования класса fixedpoint:
`./example`

Пример использования интегратора:
`./integrator_example`
